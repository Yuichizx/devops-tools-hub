{% macro tool_card(tool) %}
{% set href = tool.external_url if tool.external_url else url_for(tool.url_endpoint) %}
{% set target = '_blank' if tool.external_url else '_self' %}
{% set rel = 'noopener noreferrer' if tool.external_url else '' %}

<a href="{{ href }}" target="{{ target }}" rel="{{ rel }}" 
   data-category="{{ tool.category|lower }}" data-title="{{ tool.title|lower }}"
   class="tool-card group block p-6 rounded-xl shadow-md hover:shadow-xl hover:-translate-y-1 transition-all duration-300 relative overflow-hidden">
  
  <div class="flex items-center justify-center w-12 h-12 bg-{{ tool.color }}-100 text-{{ tool.color }}-600 rounded-full mx-auto mb-4 group-hover:bg-{{ tool.color }}-600 group-hover:text-white transition-colors">
    <i class="bi {{ tool.icon }} text-2xl"></i>
  </div>
  
  <h3 class="text-xl font-semibold mb-1">{{ tool.title }}</h3>
  <p class="text-sm opacity-80">{{ tool.desc }}</p>
  
  <!-- Category Badge (Optional/Corner) -->
  <span class="absolute top-3 right-3 text-[10px] font-bold px-2 py-1 rounded bg-slate-100 dark:bg-slate-700 text-slate-500 uppercase tracking-wide opacity-0 group-hover:opacity-100 transition-opacity">
    {{ tool.category }}
  </span>
</a>
{% endmacro %}
