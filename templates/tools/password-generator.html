<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <title>Password Generator</title>
  
  <link rel="icon" type="image/png" href="{{ url_for('static', filename='images/favicon.png') }}">

  <script src="{{ url_for('static', filename='js/tailwind-latest.js') }}" crossorigin="anonymous"></script>
  <link href="{{ url_for('static', filename='css/bootstrap-icons.min.css') }}" rel="stylesheet"/>

  <link rel="stylesheet" href="{{ url_for('static', filename='css/theme.css') }}">
  <script src="{{ url_for('static', filename='js/theme.js') }}"></script>

  <style>
    /* --- CSS Bridge untuk Theme --- */
    body {
        background-color: var(--bg);
        color: var(--text);
        transition: background-color 0.3s, color 0.3s;
    }

    .main-card {
        background-color: var(--panel);
        border: 1px solid var(--border);
        color: var(--text);
    }

    /* Input Display Password */
    #output {
        background-color: var(--bg) !important;
        border-color: var(--border) !important;
        color: var(--text) !important;
        font-family: monospace;
        letter-spacing: 1px;
    }

    /* Controls */
    input[type="number"], input[type="range"] {
        background-color: var(--bg);
        color: var(--text);
        border: 1px solid var(--border);
    }
    
    /* Symbol Checkboxes Container */
    .symbol-grid {
        background-color: var(--bg);
        border: 1px solid var(--border);
        padding: 10px;
        border-radius: 8px;
    }

    /* Buttons */
    .btn-action {
        background-color: var(--bg);
        border: 1px solid var(--border);
        color: var(--muted);
        transition: 0.2s;
    }
    .btn-action:hover { background-color: var(--btn-hover); color: var(--text); }

    .btn-primary-custom {
        background-color: #2563eb; /* Blue 600 */
        color: white;
        border: none;
    }
    .btn-primary-custom:hover { background-color: #1d4ed8; }

    .btn-copy {
        background-color: var(--btn-hover);
        color: #2563eb;
        border: 1px solid var(--border);
        font-weight: 600;
    }
    .btn-copy:hover { background-color: #dbeafe; } /* Light blue hover */

    /* Strength Meter */
    .meter { height: 8px; background: var(--border); border-radius: 4px; overflow: hidden; }
    .meter > span { display: block; height: 100%; border-radius: 4px; transition: width 0.3s; }

    /* Toast */
    #toast { transition: transform .3s, opacity .3s; z-index: 99; }
  </style>
</head>
<body class="min-h-screen p-4 md:p-8 font-sans">
  
  <div class="container mx-auto max-w-4xl">
    
    <header class="flex flex-col md:flex-row items-center justify-between mb-8 gap-4">
      <div>
        <h1 class="text-3xl md:text-4xl font-bold flex items-center gap-2">
            <i class="bi bi-shield-lock-fill text-blue-500"></i> Password Generator
        </h1>
        <p class="mt-1 opacity-70">Buat password kuat dengan kontrol penuh pada karakter.</p>
      </div>
      
            <div class="flex gap-2">
                <button id="btnTheme" class="btn-action px-4 py-2 rounded-lg text-sm font-medium shadow-sm">ðŸŒž Light</button>
                <a href="{{ url_for('routes.landing') }}"
                   class="btn-action px-4 py-2 rounded-lg text-sm font-medium shadow-sm flex items-center gap-2">
                    <i class="bi bi-arrow-left"></i> Back
                </a>
            </div>
    </header>

    <div class="main-card rounded-xl shadow-lg p-6 md:p-8">
      
      <div class="mb-8">
        <div class="flex justify-between items-center mb-2">
          <label class="font-bold opacity-90">Password Result</label>
          <div class="flex gap-2">
            <button id="btnRegenerate" class="btn-action px-3 py-1 rounded text-sm flex items-center gap-2 text-emerald-500" title="Acak Ulang">
                <i class="bi bi-arrow-clockwise"></i> Acak Ulang
            </button>
          </div>
        </div>
        
        <div class="flex gap-2">
            <input id="output" class="w-full p-4 text-lg rounded-lg border focus:ring-2 focus:ring-blue-500 focus:outline-none" readonly>
            <button id="btnCopy" class="btn-copy px-6 rounded-lg flex items-center gap-2 shadow-sm" title="Salin Password">
                <i class="bi bi-clipboard"></i> Salin
            </button>
        </div>

        <div class="mt-3 flex items-center justify-between text-sm">
           <div class="flex items-center gap-3 w-full mr-4">
              <div class="meter w-full max-w-xs"><span id="meterBar" class="bg-red-500 w-0"></span></div>
              <span id="meterLabel" class="font-bold opacity-70">Weak</span>
           </div>
           <div class="whitespace-nowrap opacity-60">Entropy: <span id="entropy">0</span> bits</div>
        </div>
      </div>

      <div class="grid md:grid-cols-2 gap-8">
        
        <div class="space-y-6">
           <div>
             <div class="flex justify-between mb-2">
                <label class="font-semibold">Panjang Karakter</label>
                <span id="lengthVal" class="font-mono font-bold text-blue-500">16</span>
             </div>
             <div class="flex items-center gap-3">
               <input id="length" type="range" min="4" max="64" value="16" class="w-full accent-blue-600 h-2 rounded-lg cursor-pointer">
             </div>
           </div>

           <div class="space-y-3">
             <label class="flex items-center gap-3 cursor-pointer">
                <input id="optLower" type="checkbox" class="w-5 h-5 accent-blue-600 rounded" checked>
                <span>Huruf Kecil (a-z)</span>
             </label>
             <label class="flex items-center gap-3 cursor-pointer">
                <input id="optUpper" type="checkbox" class="w-5 h-5 accent-blue-600 rounded" checked>
                <span>Huruf Besar (A-Z)</span>
             </label>
             <label class="flex items-center gap-3 cursor-pointer">
                <input id="optNumber" type="checkbox" class="w-5 h-5 accent-blue-600 rounded" checked>
                <span>Angka (0-9)</span>
             </label>
           </div>
        </div>

        <div class="space-y-3">
            <div class="flex justify-between items-center mb-1">
                <label class="font-semibold">Pilihan Simbol</label>
            </div>

            <label class="flex items-center gap-3 cursor-pointer p-3 rounded border border-dashed border-[var(--border)] hover:bg-[var(--bg)] transition">
                <input id="optGeneral" type="checkbox" class="w-5 h-5 accent-purple-600 rounded" checked>
                <div class="flex flex-col">
                    <span class="font-medium">Simbol Umum</span>
                    <span class="text-xs opacity-60">(! & ' ( ) * + , - . : ; < = > ? _ { | } ~)</span>
                </div>
            </label>
            
            <div>
                <div class="flex justify-between items-center mb-2 mt-4">
                    <label class="text-sm font-semibold opacity-80">Simbol Spesifik</label>
                    <div class="text-xs flex gap-2">
                        <button onclick="toggleSymbols(true)" class="text-blue-500 hover:underline">All</button>
                        <button onclick="toggleSymbols(false)" class="text-red-500 hover:underline">None</button>
                    </div>
                </div>

                <div class="symbol-grid grid grid-cols-5 gap-2">
                    <label class="flex items-center justify-center cursor-pointer p-2 rounded hover:bg-black/5 transition" title="Hash">
                        <input type="checkbox" class="sym-chk w-4 h-4 accent-pink-600" value="#" checked>
                        <span class="font-mono font-bold ml-1">#</span>
                    </label>
                    <label class="flex items-center justify-center cursor-pointer p-2 rounded hover:bg-black/5 transition" title="Dollar">
                        <input type="checkbox" class="sym-chk w-4 h-4 accent-pink-600" value="$" checked>
                        <span class="font-mono font-bold ml-1">$</span>
                    </label>
                    <label class="flex items-center justify-center cursor-pointer p-2 rounded hover:bg-black/5 transition" title="Percent">
                        <input type="checkbox" class="sym-chk w-4 h-4 accent-pink-600" value="%" checked>
                        <span class="font-mono font-bold ml-1">%</span>
                    </label>
                    <label class="flex items-center justify-center cursor-pointer p-2 rounded hover:bg-black/5 transition" title="At Sign">
                        <input type="checkbox" class="sym-chk w-4 h-4 accent-pink-600" value="@" checked>
                        <span class="font-mono font-bold ml-1">@</span>
                    </label>
                    <label class="flex items-center justify-center cursor-pointer p-2 rounded hover:bg-black/5 transition" title="Quote">
                        <input type="checkbox" class="sym-chk w-4 h-4 accent-pink-600" value='"' checked>
                        <span class="font-mono font-bold ml-1">"</span>
                    </label>

                    <label class="flex items-center justify-center cursor-pointer p-2 rounded hover:bg-black/5 transition" title="Caret">
                        <input type="checkbox" class="sym-chk w-4 h-4 accent-pink-600" value="^" checked>
                        <span class="font-mono font-bold ml-1">^</span>
                    </label>
                    <label class="flex items-center justify-center cursor-pointer p-2 rounded hover:bg-black/5 transition" title="Bracket Open">
                        <input type="checkbox" class="sym-chk w-4 h-4 accent-pink-600" value="[" checked>
                        <span class="font-mono font-bold ml-1">[</span>
                    </label>
                    <label class="flex items-center justify-center cursor-pointer p-2 rounded hover:bg-black/5 transition" title="Bracket Close">
                        <input type="checkbox" class="sym-chk w-4 h-4 accent-pink-600" value="]" checked>
                        <span class="font-mono font-bold ml-1">]</span>
                    </label>
                    <label class="flex items-center justify-center cursor-pointer p-2 rounded hover:bg-black/5 transition" title="Slash">
                        <input type="checkbox" class="sym-chk w-4 h-4 accent-pink-600" value="/" checked>
                        <span class="font-mono font-bold ml-1">/</span>
                    </label>
                    <label class="flex items-center justify-center cursor-pointer p-2 rounded hover:bg-black/5 transition" title="Backslash">
                        <input type="checkbox" class="sym-chk w-4 h-4 accent-pink-600" value="\" checked>
                        <span class="font-mono font-bold ml-1">\</span>
                    </label>
                </div>
            </div>
        </div>

      </div>

      <div class="mt-8 flex justify-center">
        <button id="btnGenerate" class="btn-primary-custom w-full md:w-auto px-8 py-3 rounded-lg text-lg font-bold shadow-lg shadow-blue-500/30 transform transition active:scale-95 flex items-center justify-center gap-2">
            <i class="bi bi-magic"></i> Generate Password
        </button>
      </div>

    </div>
  </div>

  <div id="toast" class="fixed bottom-5 right-5 bg-slate-800 text-white px-5 py-3 rounded-lg shadow-xl translate-y-20 opacity-0">
    <p id="toast-message">Notifikasi</p>
  </div>

  <script src="{{ url_for('static', filename='js/password-generator.js') }}"></script>
</body>
</html>
